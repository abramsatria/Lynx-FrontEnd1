import{_ as c,g as p,a as d,l as i,r as l,o as m,c as b,b as o,d as r,w as h,t as f}from"./index-x0cUaSJO.js";const y={props:["data"],data(){return{popups:p(),account:d(),about:i(),backupCode:"",response:""}},methods:{async recover(){const s={username:this.data.username,password:this.data.password,backupCode:this.backupCode},e=await this.account.fetch("/auth/totp/recover",{method:"POST",body:JSON.stringify(s)});if(!e.success)this.response=e.message;else{if(this.about.track("Account Recovered"),this.popups.closeSelf(this),this.account.getAccount(),this.$route.query.next)return this.$router.push(decodeURIComponent(this.$route.query.next));this.$router.push("/dash/settings")}}}},k={class:"lostTOTP"};function _(s,e,v,C,t,u){const a=l("FormKit");return m(),b("div",k,[e[1]||(e[1]=o("h2",null,"Lost your Authenticator App?",-1)),e[2]||(e[2]=o("p",{class:"subheader"}," Enter one of your backup codes below to disable 2FA and get back into your account ",-1)),r(a,{type:"form","submit-label":"Recover Account","submit-attrs":{"button-type":"primary"},onSubmit:u.recover},{default:h(()=>[r(a,{type:"text",label:"Your Backup Code",modelValue:t.backupCode,"onUpdate:modelValue":e[0]||(e[0]=n=>t.backupCode=n),validation:"alphanumeric:required|length:12,12",autocomplete:"off"},null,8,["modelValue"]),o("p",null,f(t.response),1)]),_:1},8,["onSubmit"])])}const A=c(y,[["render",_],["__scopeId","data-v-4dd7ec05"]]);export{A as default};
