import{_ as c,a as d,g as r,l as p,c as g,b as o,t as u,s as l,o as b}from"./index-x0cUaSJO.js";const m={data(){return{account:d(),popups:r(),about:p()}},methods:{changeSetting(n){this.about.data.demo||this.popups.addPopup(`Change${n}`,{account:this.account.account.id})},async toggleTOTP(){if(this.about.data.demo)return;this.account.account.totp?this.popups.addPopup("DisableTOTP",{}):this.popups.addPopup("EnableTOTP",{})},async toggleAutomaticLogin(){const n=await this.popups.addPopup("Verify",{async:!0}),t=await this.popups.addPopup("Loader"),s=await this.account.fetch("/auth/automatic-login",{method:this.account.account.allowAutomaticLogin?"DELETE":"POST",body:JSON.stringify({verification:n})});if(this.popups.closePopup(t.id),!s.success){this.popups.addPopup("Information",{title:`Error ${this.account.account.allowAutomaticLogin?"disabling":"enabling"} automatic login`,description:s.message,buttons:[{name:"Okay",type:"primary",action:"close-all"}]});return}this.account.getAccount()},async getConfig(){const n=await this.account.fetch("/sharex/config",{method:"GET"});if(!n.success){this.popups.addPopup("Information",{title:"Error getting sharex config",description:n.message,buttons:[{name:"Okay",type:"primary",action:"return"}]});return}const t=JSON.stringify(n.result.config,null,4),s=document.createElement("a");s.setAttribute("href",`data:application/json;charset=utf-8,${encodeURIComponent(t)}`),s.setAttribute("download","Lynx.sxcu"),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},formatNumber(n){return n.toLocaleString()}}},f={class:"settings-section"},h={class:"login"},y={class:"inputs"},v={class:"input"},P=["disabled"],A={class:"input totp"},E=["disabled"],T={class:"sole-user"},L={style:{"background-color":"var(--bg-color-2)",padding:"0.2em","border-radius":"5px"}},w={class:"inputs",style:{"margin-top":"0"}},O={class:"input automatic-login"};function S(n,t,s,_,e,i){return b(),g("div",f,[o("div",h,[t[5]||(t[5]=o("h2",null,"Login",-1)),o("div",y,[o("div",v,[t[3]||(t[3]=o("label",null,"Password",-1)),o("div",{disabled:e.about.data.demo,onClick:t[0]||(t[0]=a=>i.changeSetting("Password"))}," *********** ",8,P)]),o("div",A,[t[4]||(t[4]=o("label",null,"2FA settings",-1)),o("button",{disabled:e.about.data.demo,onClick:t[1]||(t[1]=(...a)=>i.toggleTOTP&&i.toggleTOTP(...a))},u(e.account.account.totp?"Disable":"Enable")+" 2FA ",9,E)])])]),o("div",T,[t[9]||(t[9]=o("h2",null,"Automatic login",-1)),t[10]||(t[10]=o("p",null,"All requests will be automatically authenticated by this account.",-1)),o("p",null,[t[6]||(t[6]=l(" Requires ")),t[7]||(t[7]=o("a",{href:"https://docs.getlynx.dev/installation/environment-variables",target:"_blank",rel:"noopener noreferrer"},"SOLE_USER",-1)),t[8]||(t[8]=l(" to be set to ")),o("code",L,u(e.account.account.id),1)]),t[11]||(t[11]=o("p",null,"Do not enable unless you have alternative authentication methods in place.",-1)),o("div",w,[o("div",O,[o("button",{onClick:t[2]||(t[2]=(...a)=>i.toggleAutomaticLogin&&i.toggleAutomaticLogin(...a))},u(e.account.account.allowAutomaticLogin?"Disable":"Enable"),1)])])])])}const x=c(m,[["render",S],["__scopeId","data-v-b7a11837"]]);export{x as default};
