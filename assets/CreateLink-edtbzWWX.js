import{_ as a,g as u,l as p,a as d,r as m,o as c,c as k,b as e,d as r,w as f}from"./index-x0cUaSJO.js";import{u as y}from"./links-CwZHDahQ.js";const b={data(){return{links:y(),popups:u(),about:p(),account:d(),link:{destination:"",slug:""}}},methods:{async create(){const n=await this.links.create(this.link);if(!n.success)this.popups.addPopup("Information",{title:"Error creating your link",description:n.message,buttons:[{name:"Retry",type:"primary",action:"return"},{name:"Cancel",type:"secondary",action:"close-all"}]});else{if(this.about.track("Link Created"),this.about.addLink(),this.popups.closeSelf(this),this.account.preferences.reducedPopups)return;this.popups.addPopup("Information",{title:"Successfully created your link",description:`Your short link is <a href="${n.result.link.link}" target="_blank">${n.result.link.slug}</a>`,buttons:[{name:"Okay",type:"primary",action:"close-all"}]})}}}},g={class:"createLink"};function C(n,t,V,L,s,i){const o=m("FormKit");return c(),k("div",g,[t[4]||(t[4]=e("h2",null,"Create link",-1)),r(o,{type:"form",onSubmit:i.create,"submit-label":"Create Link","submit-attrs":{"button-type":"primary"}},{default:f(()=>[e("table",null,[e("tr",null,[t[2]||(t[2]=e("td",null,[e("strong",null,"Destination URL")],-1)),e("td",null,[r(o,{type:"text",modelValue:s.link.destination,"onUpdate:modelValue":t[0]||(t[0]=l=>s.link.destination=l)},null,8,["modelValue"])])]),e("tr",null,[t[3]||(t[3]=e("td",null,[e("strong",null,"Custom Slug")],-1)),e("td",null,[r(o,{type:"text",modelValue:s.link.slug,"onUpdate:modelValue":t[1]||(t[1]=l=>s.link.slug=l)},null,8,["modelValue"])])])])]),_:1},8,["onSubmit"])])}const x=a(b,[["render",C],["__scopeId","data-v-402b9a50"]]);export{x as default};
