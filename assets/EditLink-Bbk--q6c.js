import{_ as a,g as p,l as r,r as d,o as m,c,b as e,d as i,w as k}from"./index-x0cUaSJO.js";import{u as y}from"./links-CwZHDahQ.js";const f={props:["data"],data(){return{links:y(),popups:p(),about:r(),link:{destination:"",slug:""}}},methods:{async update(){const n=await this.links.update(this.link);if(!n.success)this.popups.addPopup("Information",{title:"Error updating your link",description:n.message,buttons:[{name:"Retry",type:"primary",action:"return"},{name:"Cancel",type:"secondary",action:"close-all"}]});else{if(this.about.track("Link Edited"),this.popups.closeSelf(this),this.account.preferences.reducedPopups)return;this.popups.addPopup("Information",{title:"Successfully updated your link",buttons:[{name:"Okay",type:"primary",action:"close-all"}]})}}},async mounted(){const n=await this.links.get(this.data.id);n?this.link=n:(this.popups.closeSelf(this),this.popups.addPopup("Information",{title:"Error updating your link",description:"Link not found",buttons:[{name:"Okay",type:"primary",action:"close-all"}]}))}},b={class:"editLink"};function g(n,t,h,V,s,u){const o=d("FormKit");return m(),c("div",b,[t[4]||(t[4]=e("h2",null,"Edit link",-1)),i(o,{type:"form",onSubmit:u.update,"submit-label":"Update Link","submit-attrs":{"button-type":"primary"}},{default:k(()=>[e("table",null,[e("tr",null,[t[2]||(t[2]=e("td",null,[e("strong",null,"Destination URL")],-1)),e("td",null,[i(o,{type:"text",modelValue:s.link.destination,"onUpdate:modelValue":t[0]||(t[0]=l=>s.link.destination=l)},null,8,["modelValue"])])]),e("tr",null,[t[3]||(t[3]=e("td",null,[e("strong",null,"Custom Slug")],-1)),e("td",null,[i(o,{type:"text",modelValue:s.link.slug,"onUpdate:modelValue":t[1]||(t[1]=l=>s.link.slug=l)},null,8,["modelValue"])])])])]),_:1},8,["onSubmit"])])}const E=a(f,[["render",g],["__scopeId","data-v-1475197e"]]);export{E as default};
