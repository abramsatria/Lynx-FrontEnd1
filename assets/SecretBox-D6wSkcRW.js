import{_ as l,a as u,l as d,r as b,o as S,c as f,b as c,t as h,d as n}from"./index-x0cUaSJO.js";const w={props:["secret","userID"],data(){return{secretVisible:!1,account:u(),about:d(),newSecretData:{loading:!1,success:!1},clipboard:{success:!1}}},methods:{toggleSecret(){this.secret&&(this.secretVisible=!this.secretVisible)},async newSecret(o){if(this.about.data.demo)return;this.newSecretData.success=!1,this.newSecretData.loading=!0;const e=await this.account.newSecret({id:o});e&&(this.$route.path==="/dash/users"&&this.$emit("update-user",o,{secret:e}),this.newSecretData.success=!0,setTimeout(()=>{this.newSecretData.success=!1},2e3)),this.newSecretData.loading=!1},async copySecret(){this.clipboard.success=!0,navigator.clipboard.writeText(this.account.account.secret),setTimeout(()=>{this.clipboard.success=!1},2e3)}}},p={class:"secret-box"},_={class:"actions"},g=["disabled"],m=["disabled"];function D(o,e,a,v,s,t){const r=b("font-awesome-icon");return S(),f("div",p,[c("p",null,h(a.secret?s.secretVisible?a.secret:Array(32).fill("â€¢").join(""):"No secret set."),1),c("div",_,[c("div",{class:"action view",onClick:e[0]||(e[0]=(...i)=>t.toggleSecret&&t.toggleSecret(...i)),disabled:!a.secret},[n(r,{icon:s.secretVisible?"eye-slash":"eye"},null,8,["icon"])],8,g),c("div",{class:"action new",onClick:e[1]||(e[1]=i=>t.newSecret(this.userID)),disabled:s.about.data.demo},[n(r,{icon:s.newSecretData.success?"check":"arrows-rotate",spinning:s.newSecretData.loading},null,8,["icon","spinning"])],8,m),c("div",{class:"action copy",onClick:e[2]||(e[2]=(...i)=>t.copySecret&&t.copySecret(...i))},[n(r,{icon:s.clipboard.success?"check":"clipboard"},null,8,["icon"])])])])}const k=l(w,[["render",D],["__scopeId","data-v-f0cdd0db"]]);export{k as S};
