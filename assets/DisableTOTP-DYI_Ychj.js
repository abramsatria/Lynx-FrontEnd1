import{_ as i,g as l,a as p,l as c,r as d,o as m,c as b,b as a,d as n,w as f,t as h}from"./index-x0cUaSJO.js";const y={props:[],data(){return{popups:l(),account:p(),about:c(),totpSecret:"",token:"",response:""}},methods:{async disable(){const t=await this.account.fetch("/auth/totp",{method:"DELETE",body:JSON.stringify({token:this.token})});if(!t.success)this.response=t.message;else{if(this.about.track("Disabled 2FA"),this.account.getAccount(),this.account.preferences.reducedPopups)return;this.popups.addPopup("Information",{title:"Successfully disabled 2FA",buttons:[{name:"Okay",type:"primary",action:"close-all"}]})}}}},_={class:"disableTOTP"};function k(t,e,A,F,o,r){const s=d("FormKit");return m(),b("div",_,[e[1]||(e[1]=a("h2",null,"Disable 2FA",-1)),n(s,{type:"form","submit-label":"Disable 2FA","submit-attrs":{"button-type":"primary"},onSubmit:r.disable},{default:f(()=>[n(s,{type:"text",label:"Your 2FA token",modelValue:o.token,"onUpdate:modelValue":e[0]||(e[0]=u=>o.token=u),validation:"number:required|length:6,6",autocomplete:"one-time-code"},null,8,["modelValue"]),a("p",null,h(o.response),1)]),_:1},8,["onSubmit"])])}const g=i(y,[["render",k],["__scopeId","data-v-0e1a3749"]]);export{g as default};
